\section{Feature Engineering}
\label{sec:feature_engineering}

This section describes the feature engineering process for mood prediction. We developed a comprehensive set of features that capture various aspects of user behavior and emotional states to enhance the predictive power of our models.

\subsection{Temporal Features}
We engineered several temporal features to capture time-based patterns in mood:
\begin{itemize}
    \item Hour of day (0-23)
    \item Day of week (0-6)
    \item Weekend indicator (binary)
    \item Month (1-12)
    \item Cyclical encoding of time features using sine and cosine transformations to preserve temporal continuity
\end{itemize}

\subsection{Lag Features}
To capture temporal dependencies in mood states, we created lag features:
\begin{itemize}
    \item Previous mood states (1-hour to 24-hour lags)
    \item Rolling statistics for different time windows:
    \begin{itemize}
        \item Mean mood
        \item Standard deviation
        \item Minimum and maximum values
        \item Windows: 1h, 3h, 6h, 12h, 24h
    \end{itemize}
\end{itemize}

\subsection{Activity Features}
Activity features were engineered to capture physical and digital behavior:
\begin{itemize}
    \item Activity intensity (mean activity level over time windows)
    \item Activity variability (standard deviation over time windows)
    \item Screen time (cumulative screen usage over time windows)
    \item Time windows: 1h, 3h, 6h, 12h, 24h
\end{itemize}

\subsection{Communication Features}
Communication patterns were captured through:
\begin{itemize}
    \item Call frequency
    \item SMS frequency
    \item Total communication events
    \item Rolling windows: 1h, 3h, 6h, 12h, 24h
\end{itemize}

\subsection{App Usage Features}
App usage patterns were analyzed through:
\begin{itemize}
    \item Category-wise usage time
    \item Productive vs. entertainment app ratio
    \item App diversity (number of different categories used)
    \item Categories include:
    \begin{itemize}
        \item Productive: office, utilities, finance
        \item Entertainment: entertainment, games, social
        \item Communication: messaging, calls
    \end{itemize}
\end{itemize}

\subsection{Circumplex Features}
Based on the circumplex model of affect, we engineered:
\begin{itemize}
    \item Arousal statistics (mean, standard deviation)
    \item Valence statistics (mean, standard deviation)
    \item Affect intensity ($\sqrt{\text{arousal}^2 + \text{valence}^2}$)
    \item Affect angle ($\arctan2(\text{arousal}, \text{valence})$)
    \item Time windows: 1h, 3h, 6h, 12h, 24h
\end{itemize}

\subsection{Feature Summary}
The feature engineering process resulted in 189 features spanning temporal, behavioral, and emotional dimensions. All features were calculated using rolling windows to capture both immediate and longer-term patterns in the data. Missing values were handled appropriately for each feature type, with zeros used for absence of activity and mean values for missing mood-related features.
